{"version":3,"sources":["js/input_animation.js"],"names":["$searchOverlay","$clone","offsetX","offsetY","document","querySelector","$search","openAfterMove","classList","add","focus","addEventListener","closeHandler","removeEventListener","e","remove","stopPropagation","moveAfterClose","style","transform","terminateSearch","cloneNode","appendChild","offsetTop","triggerLayout","originalRect","getBoundingClientRect","cloneRect","left","top","setAttribute"],"mappings":";CAAA,WACMA,IAEAC,EAAQC,EAASC,EAFjBH,EAAiBI,SAASC,cAAc,mBACxCC,EAAUF,SAASC,cAAc,WAiC5BE,SAAAA,IACPN,EAAOO,UAAUC,IAAI,aACrBR,EAAOI,cAAc,SAASK,QAEdT,EAKQI,cAAc,kBAC5BM,iBAAiB,QAASC,GALpCX,EAAOY,oBAAoB,gBAAiBN,GASrCK,SAAAA,EAAaE,GACpBb,EAAOO,UAAUO,OAAO,aACxBD,EAAEE,kBAEaf,EAAOI,cAAc,eAE3BM,iBAAiB,gBAAiBM,GAGpCA,SAAAA,EAAeH,GACtBA,EAAEE,kBAEFf,EAAOO,UAAUC,IAAI,aACrBR,EAAOiB,MAAMC,UAAY,aAAejB,EAAU,OAASC,EAAU,MACrEF,EAAOU,iBAAiB,gBAAiBS,GAGlCA,SAAAA,IACPd,EAAQE,UAAUO,OAAO,aACzBd,EAAOc,SACPf,EAAeQ,UAAUO,OAAO,aAhElCT,EAAQK,iBAAiB,QAAS,WAEhCV,EAAS,KAAKoB,WAAU,GAExBrB,EAAeQ,UAAUC,IAAI,aAE7BR,EAAOO,UAAUC,IAAI,YAAa,aAClCT,EAAesB,YAAYrB,GAEPD,EAAeuB,UAA/BC,IAEAC,EAVY,KAUaC,wBACzBC,EAAY1B,EAAOyB,wBAEvBxB,EAAUuB,EAAaG,KAAOD,EAAUC,KACxCzB,EAAUsB,EAAaI,IAAMF,EAAUE,IAEvC5B,EAAOiB,MAAMC,UAAY,aAAejB,EAAU,OAASC,EAAU,MAhBrD,KAiBNK,UAAUC,IAAI,aACxBR,EAAOO,UAAUO,OAAO,aAEJf,EAAeuB,UAEnCtB,EAAOO,UAAUC,IAAI,aAErBR,EAAO6B,aAAa,QAAS,IAE7B7B,EAAOU,iBAAiB,gBAAiBJ,KAhC7C","file":"input_animation.a74abe67.js","sourceRoot":"..","sourcesContent":["(function () {\n  var $searchOverlay = document.querySelector('.search-overlay');\n  var $search = document.querySelector('.search');\n  var $clone, offsetX, offsetY;\n\n  $search.addEventListener('click', function () {\n    var $original = this;\n    $clone = this.cloneNode(true);\n\n    $searchOverlay.classList.add('s--active');\n\n    $clone.classList.add('s--cloned', 's--hidden');\n    $searchOverlay.appendChild($clone);\n\n    var triggerLayout = $searchOverlay.offsetTop;\n\n    var originalRect = $original.getBoundingClientRect();\n    var cloneRect = $clone.getBoundingClientRect();\n\n    offsetX = originalRect.left - cloneRect.left;\n    offsetY = originalRect.top - cloneRect.top;\n\n    $clone.style.transform = 'translate(' + offsetX + 'px, ' + offsetY + 'px)';\n    $original.classList.add('s--hidden');\n    $clone.classList.remove('s--hidden');\n\n    var triggerLayout = $searchOverlay.offsetTop;\n\n    $clone.classList.add('s--moving');\n\n    $clone.setAttribute('style', '');\n\n    $clone.addEventListener('transitionend', openAfterMove);\n  });\n\n  function openAfterMove() {\n    $clone.classList.add('s--active');\n    $clone.querySelector('input').focus();\n\n    addCloseHandler($clone);\n    $clone.removeEventListener('transitionend', openAfterMove);\n  }\n\n  function addCloseHandler($parent) {\n    var $closeBtn = $parent.querySelector('.search__close');\n    $closeBtn.addEventListener('click', closeHandler);\n  }\n\n  /* close handler functions */\n  function closeHandler(e) {\n    $clone.classList.remove('s--active');\n    e.stopPropagation();\n\n    var $cloneBg = $clone.querySelector('.search__bg');\n\n    $cloneBg.addEventListener('transitionend', moveAfterClose);\n  }\n\n  function moveAfterClose(e) {\n    e.stopPropagation(); // prevents from double transitionend even fire on parent $clone\n\n    $clone.classList.add('s--moving');\n    $clone.style.transform = 'translate(' + offsetX + 'px, ' + offsetY + 'px)';\n    $clone.addEventListener('transitionend', terminateSearch);\n  }\n\n  function terminateSearch() {\n    $search.classList.remove('s--hidden');\n    $clone.remove();\n    $searchOverlay.classList.remove('s--active');\n  }\n})();\n"]}